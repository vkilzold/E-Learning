<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Teacher Dashboard</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="teacherdashboard.css">
</head>
<body>
  <div class="dashboard-layout">
    <main class="main-content">
      <!-- Header -->
      <header class="main-header">
        <h1>Teacher Profile</h1>
        <div class="header-actions">
          <button id="themeToggleBtn" title="Toggle dark/light mode" style="background:none;border:none;cursor:pointer;font-size:1.3rem;"><i class="fas fa-star"></i></button>
          <button class="logout-btn" id="logoutBtn"><i class="fas fa-trophy"></i>&nbsp;Logout</button>
          <div class="avatar small"div>
        </div>
      </header>
      <div class="content-cards" style="display: grid; grid-template-columns: repeat(3, 1fr); grid-template-rows: auto auto; gap: 24px; width: 100%; max-width: 1200px; margin: 0 auto;">
        <!-- First Row: Profile Info, Classes, Students -->
        <div class="card profile-card">
          <div class="section-header">
            <h4><i class="fas fa-trophy"></i>&nbsp;Profile Info</h4>
          </div>
          <div class="profile-section">
            <div class="profile-avatar-col" style="display: flex; flex-direction: column; align-items: center;">
              <div class="avatar large" id="profileBigAvatar"><i class="fas fa-star"></i></div>
              <button class="edit-profile-btn" style="margin-top: 1rem;"><i class="fas fa-award"></i>&nbsp;Edit Profile</button>
            </div>
            <div class="teacher-info">
              <h2 id="profileName">Professor Name</h2>
              <p id="profileEmail">prof@email.com</p>
            </div>
          </div>
        </div>
        <div class="card class-section">
          <div class="section-header">
            <h4><i class="fas fa-star"></i>&nbsp;Classes</h4>
            <button class="action-btn" id="addClassBtn">+ Add Class</button>
          </div>
          <div class="scroll-box" id="classList">
            <!-- Dynamically populated -->
          </div>
        </div>
        <div class="card student-section">
          <div class="section-header">
            <h4><i class="fas fa-medal"></i>&nbsp;Students</h4>
            <div>
              <button class="action-btn" id="selectClassBtn">Select Class</button>
              <button class="action-btn" id="viewStudentsBtn">View</button>
            </div>
          </div>
          <div class="scroll-box" id="dashboardStudentList"></div>
        </div>
        <!-- Second Row: Students Proficiency, Leaderboard -->
        <div class="card performance-card" style="grid-column: 1 / 3;">
          <div class="section-header">
            <h4><i class="fas fa-gem"></i>&nbsp;Students Proficiency</h4>
          </div>
          <canvas id="studentProficiencyChart" height="180"></canvas>
        </div>
        <div class="card leaderboard-section" style="grid-column: 3 / 4;">
          <div class="section-header">
            <h4><i class="fas fa-award"></i>&nbsp;Leaderboard</h4>
            <button class="action-btn">View All</button>
          </div>
          <div class="scroll-box">
            <div class="item"><span class="leaderboard-name">Prince Masilac</span><span class="leaderboard-points">180 pts</span></div>
            <div class="item"><span class="leaderboard-name">George Sia</span><span class="leaderboard-points">170 pts</span></div>
            <div class="item"><span class="leaderboard-name">Andrei Pira</span><span class="leaderboard-points">160 pts</span></div>
          </div>
        </div>
      </div>
    </main>
  </div>
  <!-- Modals and Scripts remain unchanged -->
  <!-- Add Class Modal -->
  <div id="classModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" id="closeAddClass">&times;</span>
      <h2>Add a New Class</h2>
      <form id="addClassForm">
        <label for="className">Class Name:</label>
        <input type="text" id="className" name="className" required />
        <button type="submit">Add Class</button>
      </form>
    </div>
  </div>

  <!-- Select Class Modal -->
  <div id="selectClassModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" id="closeSelectClass">&times;</span>
      <h2>Select a Class</h2>
      <div id="classSelectionList">
        <!-- Class buttons inserted here -->
      </div>
    </div>
  </div>

  <!-- View Students Modal -->
  <div id="viewStudentsModal" class="modal">
    <div class="modal-content">
      <span class="close-view-btn">&times;</span>
      <h2>Students in This Class</h2>
      <ul id="modalStudentList" class="student-list"></ul>
    </div>
  </div>

  <!-- Logout Confirmation Modal -->
  <div id="logoutModal" class="modal hidden">
    <div class="modal-content">
      <p>Are you sure you want to logout?</p>
      <div class="modal-actions">
        <button id="confirmLogoutBtn" class="confirm-btn">Yes, Logout</button>
        <button id="cancelLogoutBtn" class="cancel-btn">Cancel</button>
      </div>
    </div>
  </div>

  <script type="module" src="teacherdashboard.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</body>
</html>
